## 怎样使用管理员端？

服务器安装包解压后，在\pgTunnelSvr\Tool\Manage 目录下包含了管理员web的文件。

将Manage文件夹复制到Windows上，使用记事本打开mngtool.htm，大约在149行处将服务器地址改成正确的服务器地址，

保存然后使用IE打开mngtool.htm，根据提示安装Peergine控件，已经安装好Peergine控件后点击（允许阻止的内容）加载ActiveX。

然后根据文档《P2P隧道服务器后台管理页面介绍 v1.0.doc》了解各种操作的功能，进行正确的管理操作。

### 关于启用用户认证后不能生效的问题？ {#-0}

在隧道服务器配置中，如下图所示的配置项是配置关于用户认证的问题。

有时候我们将AuthEnable 配置成一后发现所有用户ID还是可以登录，这时候需要将RegEnable 配置成0”(RegEnable){0}”, 这是应该如果RegEnable配置成1，设备第一次登录就会自动注册，这样就会自动验证从而使AuthEnable没有意义。

### 服务器开发手册中webclient部分的网络API怎样调用？ {#webclient-api}

Webclient可以调用的网络API如下图所示：

![](..\assets\image002.png)

调用方式是利用m_webClient.Request函数将这些API发送到服务器，然后服务器返回结果，通过函数m_webClient.GetResult 接收结果。

### 默认管理员用户是什么？怎样添加用户？怎样添加管理员用户？ {#-1}

默认管理员名称是：admin@admin 密码：1234

添加用户的方式：通过打开管理员页面并登陆。（tips：管理员页面需要用IE浏览器打开，同时需要根据提示安装ActiveX插件）

管理员页面路径：

管理员登录窗口：

![](..\assets\image003.png)

通过点击右上角的添加用户按钮，后并输入相应信息后即可添加用户。

其中用户名一栏有两个输入框，@之前的是自定义用户名，@之后是域，默认域是pptun.com,还可以设置成如admin之类的省缺域，admin域是管理员域，这样的用户名可以操作隧道服务器的几乎所有功能。同时也可以使用自定义的域，不过如果要使用自定义的域，请先在域列表处查看域是否存在。

添加管理员用户名的办法就是将用户名的域指定为admin。

![](..\assets\image004.png)

### 怎样在webClient端给用户添加隧道？ {#webclient}

调用网络API TunnelAdd 和 AttachAdd，先添加一个隧道，然后隧道跟用户绑定，注意和用户绑定需要指定是入口端还是出口端。

### 用户通用API和 用户管理API有什么区别？ {#api-api}

![](..\assets\u7`yq}f0efk25_{91pxhh.png)

用户管理API，只有管理员才有权限使用。

### 什么是域管理员？怎么指定域管理员？ {#-2}

域管理员要求的后缀是 @dmm。通过DomainSetInfoAll的API设置域管理员，域管理员只能指定一个，域管理员可以管理指定域的隧道和用户。

![](..\assets\6}fqi2sv494h5sccu_1lo.png)

### 什么是域的级别，域级别的作用？ {#-3}

添加的自定义域可以设置域的级别，域级别可以限制域可以添加的最大用户数量。

![](..\assets\o{az0id21a8[d8l~[lt3j.png)